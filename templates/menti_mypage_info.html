<!doctype html>
<html lang="en">
<head>

    <!-- Webpage Title -->
    <title>{{ user_info.name }} | READYMATE</title>

    <link rel="shortcut icon" href="{{ url_for('static', filename='favicon.ico') }}" type="image/x-icon">
    <link rel="icon" href="{{ url_for('static', filename='favicon.ico') }}" type="image/x-icon">
    <meta property="og:title" content="READYMATE"/>
    <meta property="og:description" content="입시거래플랫폼 RM"/>
    <meta property="og:image" content="{{ url_for('static', filename='ogimg.png') }}"/>

    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bulma CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.9.1/css/bulma.min.css">
    <!-- Font Awesome CSS -->
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">

    <link href="{{ url_for('static', filename='mystyle.css') }}" rel="stylesheet">

    <!-- JS -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.js"></script>
    <script src="{{ url_for('static', filename='myjs.js') }}"></script>

    <!--google font-->
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR&display=swap" rel="stylesheet">

    <script type="text/javascript">
        $(document).ready(function () {

            var special_pattern = /[~!@\#$%^&*\()\-=+_'\;<>\/.\`:\"\\,\[\]?|{}]/gi;
            var replaceNotFullKorean = /[ㄱ-ㅎㅏ-ㅣ]/gi;
            var getTextLength = function (str) {
            var len = 0;
                for (var i = 0; i < str.length; i++) {
                    if (escape(str.charAt(i)).length == 6) {
                        len++;
                    }
                    len++;
                }
                return len;
            }
            $("#new_id").on("focusout", function () {
                var x = $(this).val();
                if (x.length > 0) {
                    if (x.match(special_pattern) || x.match(replaceNotFullKorean)) {
                        x = x.replace(special_pattern, "").replace(replaceNotFullKorean, "");
                    }
                    $(this).val(x);
                }
            }).on("keyup", function () {
                $(this).val($(this).val().replace(special_pattern, ""));

            });///닉네임에 특수문자가 들어가면 자동으로 지워주는 함수

            $("#new_id").on("keyup", function () {
                var nick_length = getTextLength($('#new_id').val())
                var nick_jump = $('#new_id').val().search(/\s/)
                console.log(nick_length)
                console.log(nick_jump)

                if (2 < nick_length && nick_length < 19) {
                    console.log('nick_length OK')
                    if (nick_jump == -1) {
                        console.log('jump OK')
                        $('#verified_nickname').addClass('is-hidden');
                    } else {
                        $('#verified_nickname').removeClass('is-hidden');
                    }
                } else {
                    $('#verified_nickname').removeClass('is-hidden');
                }
            });

        })

        function check_dup() {
            if ($('#new_id').val()) {
                if ($('#verified_nickname').hasClass('is-hidden')) {
                    ///중복확인 고!
                    ///if 중복할시에, alert('중복된 닉네임입니다.')
                    ///else 중복안할시에, 포스트하고 alert('변경되었습니다.'), 페이지 리로드.
                } else {
                    alert('닉네임 형식을 확인해주세요')
                }
            }

        }

        function check_pw() {
            var eng = /[a-z,A-z]/gi;
            var num = /[0-9]/gi;
            if ($('#new_pw').val().search(/\s/) == -1) {
                if ($('#new_pw').val().match(eng) && $('#new_pw').val().match(num)) {
                    if ($('#new_pw').val().length > 7 && $('#new_pw').val().length < 21) {
                        $('#pw_warning').css({ 'color':'#577FF0' })
                    } else {
                        $('#pw_warning').css({ 'color':'#F08080' })
                    }
                } else {
                    $('#pw_warning').css({ 'color':'#F08080' })
                }
            } else {
                alert('띄어쓰기는 비밀번호에 사용할 수 없습니다')
                $('#new_pw').val('')
                {
                    $('#pw_warning').css({ 'color':'#F08080' })
                }
            }
        }
        function change_pw() {
            o = $('#original_pw').val()
            n = $('#new_pw').val()
            r = $('#re_pw').val()
            if (n == '') {
                alert('변경할 비밀번호를 입력해주세요')
            } else if (n == 'asdf') {
                ////해시함수로 db에 저장된 기존 비밀번호와 일치하는지 대조. asdf는 예시 비밀번호고.. 저 자리에 이용자의 원 비밀번호 해시값이 들어가야.
                alert('기존 비밀번호와 일치합니다')
            } else {
                if (n != r) {alert('변경할 비밀번호 확인이 일치하지 않습니다')}
                else {
                    if (o == 'asdf'){
                        ////해시함수로 db에 저장된 기존 비밀번호와 일치하는지 대조. asdf는 예시 비밀번호고.. 저 자리에 이용자의 원 비밀번호 해시값이 들어가야.
                        alert('비밀번호가 변경되었습니다')
                        window.location.href='login.html'
                        ////그리고 실제로 비밀번호를 바꾸는 백작업
                    } else {
                        alert('기존 비밀번호가 잘못되었습니다')
                   }
                }
            }
        }

    </script>
    <style>
        * {
            font-family: 'Noto Sans KR', sans-serif;
            font-size: 16px;
        }
        .navbar-item:hover {
            background-color: white;
            border-bottom: #577FF0 1px solid;
            color: #577FF0;
            transition-duration: 0.3s;
        }

        .head {
            font-size: 21px;
            color: #595959;
            margin-bottom: 30px;
            cursor: pointer; transition-duration: 200ms;
        }
        .head:hover {
            font-size: 24px;
            font-weight: 700;
            color: #333333;
        }
        input {
             border: none; border-bottom: #797979 1px solid; height: 30px; line-height: 30px;
            margin-bottom: 20px;
        }
        .blue_btn {
            width: 129px; height: 30px; border: none; border-radius: 15px;
            background: #577FF0; color: white; font-size: 14px;
            text-align: center;
            cursor: pointer;
        }

        .footer > div > p > a {
            font-size: 12px;
            color: black;
        }
    </style>

</head>
<body class="has-navbar-fixed-top" style="padding-bottom: 30px">
<nav class="navbar is-fixed-top is-white" role="navigation" aria-label="main navigation" style="height: 60px;">
    <div style="width: 1164px; display: flex;justify-content: space-between; margin: auto">
        <div style="margin-right: 10%">
            <a class="navbar-item" href="/">
                <strong style="font-size: 1.1em;">READYMATE</strong>
            </a>
        </div>
        <div style="display: flex">
            <div>
                <a class="navbar-item" href="/">학교생활기록부</a>
            </div>
            <div>
                <a class="navbar-item" href="/">자기소개서</a>
            </div>
            <div>
                <a class="navbar-item" href="/">공부노트</a>
            </div>
            <div>
                <a class="navbar-item" href="/">학교생활자료</a>
            </div>
            <div class="dropdown is-right is-hoverable" style="height: 45px; margin-left: 15px">
                <img src="../static/eximg.jpeg"
                     style="margin-right: 10px; width: 45px; height: 45px; border-radius: 50%">
                <div class="dropdown-trigger">
                    <div aria-haspopup="true" aria-controls="dropdown-menu3"
                         style="margin-top: 6.5px">
                        <span>{{user_info.profile_name}}님&nbsp;</span>
                        <i class="fa fa-chevron-down" aria-hidden="true"
                           style="color: #595959; border: none; border-radius: 5px"></i>
                    </div>
                </div>
                <div class="dropdown-menu" id="dropdown-menu3" role="menu">
                    <div class="box"
                         style="width: 206px;background-color: white;border-radius: 10px; display: flex;flex-direction: column; justify-content: space-evenly">
                        <a href="user2.html" class="dropdown-item"
                           style="font-size: 18px;font-weight: 400;line-height:42px; color: #595959">
                            내 피드 가기
                        </a>
                        <a href="#" class="dropdown-item"
                           style="font-size: 18px;font-weight: 400;line-height:42px; color: #595959">
                            입시데이터 관리
                        </a>
                        <a href="#" class="dropdown-item"
                           style="font-size: 18px;font-weight: 400;line-height:42px;color: #595959">
                            회원정보 수정
                        </a>
                        <a href="#" class="dropdown-item"
                           style="font-size: 18px;font-weight: 400;line-height:42px;color: #595959">
                            수익내역
                        </a>
                        <hr class="dropdown-divider" style="background-color: #595959">
                        <a onclick='if(confirm("정말 로그아웃 하시겠습니까?")){alert("로그아웃")};' class="dropdown-item"
                           style="font-size: 18px;font-weight: 400;line-height:42px;color: #595959">
                            <i class="fa fa-sign-out" aria-hidden="true"></i>&nbsp;&nbsp; 로그아웃
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</nav>

<div class="channel_talk"
     style="z-index: 1;position: fixed;bottom: 26px;right: 25px;text-align: center;line-height:5px; box-shadow: 0px 4px 4px rgba(0, 0, 0, 0.25); border:#DFDFDF 1px solid;border-radius: 35px;padding-top: 30px; width: 70px;height: 70px;background-color: white">
    <p>채널톡</p>
</div>

<div style="width: 1194px; margin: 90px auto 40px auto">
    <div style="display: flex; margin-bottom: 80px">
        <div style="width: 72px; height: 72px; border: none; border-radius: 36px; background-image: url('../static/myim.jpg'); background-position: center; background-size: cover"></div>
        <div style="margin-left: 30px; height: 72px;">
            <div style="display: flex;line-height: 30px">
                <div style="color: #111111;font-size: 24px; margin-bottom: 11px;margin-right: 17px">일이삼사오륙칠팔구</div>
                <div style="width: 124px;height: 32px;background-image: url('../static/passUser.png');background-size: cover"></div>
            </div>
            <p style="border: none; color: #595959;width: 800px;font-size: 14px;">사용자의 id를 불러오는 곳 jinja2 ㄲ</p>
<!--            위 p태그 아이디를 불러오는 곳-->
        </div>
    </div>
    <div style="display: flex;position: relative">
        <div style="width: 174px;margin-right: 40px">
            <div onclick="" onmouseover="$('#head_2_1, #head_2_2, #head_2_3, #head_2_4, #head_3_1, #head_3_2').addClass('is-hidden');" id="head_1" class="head">연간 패스 관리</div>
            <div onclick="" onmouseover="$('#head_2_1, #head_2_2, #head_2_3, #head_2_4').removeClass('is-hidden')" id="head_2" class="head">내 데이터</div>
            <div onclick="" id="head_2_1" class="head is-hidden" style="font-size: 16px;margin-top: -18px">구매한 데이터</div>
            <div onclick="" id="head_2_2" class="head is-hidden" style="font-size: 16px;margin-top: -18px">스트리밍한 데이터</div>
            <div onclick="" id="head_2_3" class="head is-hidden" style="font-size: 16px;margin-top: -18px">북마크</div>
            <div onclick="" id="head_2_4" class="head is-hidden" style="font-size: 16px;margin-top: -18px">찜한 데이터</div>
            <div onclick="" onmouseover="$('#head_3_1, #head_3_2').removeClass('is-hidden')" id="head_3" class="head">내 스토리</div>
            <div onclick="" id="head_3_1" class="head is-hidden" style="font-size: 16px;margin-top: -18px">스트리밍한 스토리</div>
            <div onclick="" id="head_3_2" class="head is-hidden" style="font-size: 16px;margin-top: -18px">북마크</div>
            <div onclick="" onmouseover="$('#head_2_1, #head_2_2, #head_2_3, #head_2_4, #head_3_1, #head_3_2').addClass('is-hidden');" id="head_4" class="head" style="font-size: 24px;font-weight: 700;color: #333333;">회원정보수정</div>
        </div>
<!--        좌측 탭-->

        <div style="width: 990px;display: flex;justify-content: space-between">
            <div style="width: 378px;margin-right: 70px">
                <p style="font-weight: 600;margin-bottom: 12px">이름(실명)</p>
                <p style="color: #595959;font-size: 21px">이호진</p>
                <br><br>

                <p style="font-weight: 600;margin-bottom: 8px">아이디(이메일/연락처)</p>
                <p style="font-size: 12px;margin-bottom: 12px">아이디 변경을 원하실 경우 레디메이트 지원팀에 문의해 주세요.</p>
                <p style="color: #595959;">010-1234-1234</p>
                <br><br>

                <p style="font-weight: 600;margin-bottom: 12px">닉네임</p>
                <p style="color: #595959;font-size: 21px">일이삼사오육칠팔구<i onclick="$('#new_id_box').toggleClass('is-hidden')" style="font-size: 16px; color: #577FF0;margin-left: 12px;cursor:pointer;" class="fa fa-pencil" aria-hidden="true"></i></p>
                <div class="is-hidden" id="new_id_box" style="margin-top: 10px;position: relative">
                    <input id="new_id" placeholder="새로운 닉네임을 입력하세요" type="text"
                           style="width: 250px;">
                    <button onclick="check_dup()" class="blue_btn" style="width: 110px;margin-left: 8px">
                        수정하기
                    </button>
                    <p id="verified_nickname" class="is-hidden" style="position: absolute;bottom: 1px;color: #F08080;font-size: 12px">3~18btye이며 특수문자,띄어쓰기는 사용불가합니다.</p>
                </div>
                <br><br>


                <p style="font-weight: 600;margin-bottom: 8px">비밀번호 변경</p>
                <p style="font-size: 12px;margin-bottom: 12px">비밀번호가 변경되면 <b style="font-size: 12px">다시 로그인</b>해야 합니다.</p>
                <input id="original_pw" placeholder="현재 비밀번호" type="password" style="width: 378px;">
                <p id="pw_warning" style="font-size: 12px;margin: 4px 0;color: #797979">8-20자리의 영문, 숫자 혼용(대문자, 특수문자 가능)</p>

                <div style="position: relative">
                <input id="new_pw" placeholder="새 비밀번호" oninput="check_pw()" type="password" style="width: 378px;">
                <button style="position: absolute;top: 5px; border: none;font-size: 18px; background: none;cursor: pointer" onmouseenter="$('#new_pw').attr('type','text')" onmouseleave="$('#new_pw').attr('type','password')"><i class="fa fa-eye" aria-hidden="true"></i></button>
                </div>

                <input id="re_pw" placeholder="새 비밀번호 확인" type="password" style="width: 378px;">
                <button onclick="change_pw()" class="blue_btn" style="width: 110px;float: right">변경하기</button>
                <br><br>
                <br><br><br><br>

                <p style="font-weight: 600;margin-bottom: 8px">회원탈퇴</p>
                <p style="font-size: 12px;margin-bottom: 12px;line-height: 21px">회원탈퇴할 경우 회원님과 관련된 모든 데이터를 비롯해<br>
                    댓글, 메시지까지 전부 영구히 삭제됩니다.<br>
                    <br>
                    단순히 사용하지 않는 경우 1년 뒤 자동으로 계정이 휴면 전환됩니다.
                </p>
                <button class="blue_btn" style="width: 110px;float: right;color: #595959;background: none;border: #595959 1px solid">회원탈퇴</button>
            </div>
            <div style="width: 510px;height: 288px;border-radius: 10px;background: #f1f1f1;padding:23px 30px">
                <p style="font-weight: 600;margin-bottom: 8px">멘티 → 멘토 전환</p>
                <p style="font-size: 14px;line-height: 24px;margin-top: 12px">
                    레디메이트에 가입한 이후 대학에 합격하셨나요?<br>
                    누구보다 꿈을 위해 열심히 노력하셨을 멘티님, 진심으로 축하드립니다!<br>
                    꿈을 위해 노력하고 얻어낸 결과는 그 자체로 무엇보다 소중합니다.<br>
                    그 소중한 결과를 공유해 새로운 멘티들을 돕고 합당한 수익을 받아보세요.<br>
                    <b style="font-size: 14px">레디메이트가 당신을 멘토로 모십니다.</b><br>
                </p>
                <br><br>
                <button style="float: right;font-weight: 600;border: none;color: white;width: 264px;height: 40px;border-radius: 20px;background: linear-gradient(90.83deg, #55DBC2 0%, #52C0E2 0.01%, #577FF0 99.99%, #7351E1 100%);">
                    멘토계정으로 전환하기
                </button>

            </div>
        </div>
    </div>
</div>

<footer style="height: 175px; padding-top: 70px;display: flex; width: 1194px; margin: auto; border-top: 1px solid #767676">
    <div style="display: flex;">
        <div style="width: 467px;margin-right: 260px">
            <b style="font-size: 12px;line-height: 21px">Readymate 레디메이트</b>
            <div style="display: flex; justify-content: space-between">
                <div style="font-size: 12px;line-height: 21px">회사소개</div>
                <div style="font-size: 12px;line-height: 21px">일반 사용자 이용약관</div>
                <div style="font-size: 12px;line-height: 21px">정보 제공자 이용약관</div>
                <div style="font-size: 12px;line-height: 21px">개인정보취급방침</div>
            </div>
            <p style="margin-top: 25px">
            <p style="font-size: 12px;line-height: 21px">(주)레디메이트&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;&nbsp;&nbsp;대표 임기범&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;&nbsp;&nbsp;서울특별시
                관악구 관악로 1 어딘가</p>
            <p style="font-size: 12px;line-height: 21px">통신판매업 신고번호 : 제2021-서울구로-0000호&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;&nbsp;&nbsp;사업자
                등록번호 : 000-00-00000</p>
            </p>
        </div>
        <div style="width: 467px; text-align: right">
            <br>
            <p style="font-size: 12px;line-height: 21px">환불 정책&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;&nbsp;&nbsp;제휴 문의&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;&nbsp;&nbsp;단체
                문의</p>
            <br><br>
            <p style="font-size: 12px;line-height: 21px">Instagram&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;&nbsp;&nbsp;Facebook&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;&nbsp;&nbsp;KakaoTalk&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;&nbsp;&nbsp;Naver
                Post&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;&nbsp;&nbsp;YouTube</p>
        </div>
    </div>
</footer>
</body>
</html>
