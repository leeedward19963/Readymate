<!doctype html>
<html lang="en" xmlns="http://www.w3.org/1999/html" style="overflow-x: auto;background: #FAFAFA">
<head>

    <!-- Webpage Title -->
    <title>READYMATE</title>
    {% extends "layout_noNav.html" %}

    {% block head %}
    <!--기기 환경에 맞춰 스케일조절 -->
    <meta name="format-detection" content="telephone=no">
    <script>
        function isMobile() {
            return /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
        }
        if (isMobile()){
            //alert('is-mobile')
            $(document).ready(function (){
                var initial_scale = (screen.width / $('nav').width()).toFixed(4);
                $('meta[name=viewport]').attr('content', '"width=device-width, initial-scale=' + initial_scale + ', maximum-scale=3.0, user-scalable=yes"');

            })
        }
    </script>
    <!--둥 -->
    <script type="text/javascript">
        function send_link(){
            var name = $('#name').val()
            var id = $('#id').val()
            var id_type;
            if (id.indexOf('@')){
                id_type='email';
            } else {id_type='phone';}
            console.log(name, id, id_type)
            if (name && id){
                $.ajax({
                    type: "POST",
                    url: `/send_link`,
                    data: {name_give: name, id_give: id, id_type_give:id_type},
                    success: function (response) {
                        if (response['result'] == 'success') {
                            alert('입력하신 전화번호/이메일로 비밀번호 재설정 링크를 발송했습니다. 1시간 내로 재설정해주세요')
                        } else {
                            alert('입력하신 정보가 정확한지 확인해주세요')
                        }
                    }
                });
            } else {alert('정보를 모두 입력해주세요')}
        }

    </script>
    <style>
        * {
            font-family: 'Noto Sans KR', sans-serif;
            font-size: 16px;
        }
        .navbar-item{font-weight: 600;font-size: 15px;transition-duration: 0.3s;}
        .navbar-item:hover {
            background-color: #FAFAFA;
            color: #577FF0;
        }
        .dropdown-item{transition-duration: 250ms}
        .dropdown-item:hover {
            letter-spacing: 2px;
        }
        #nav_drop_logout:hover{
            color: #F08080;
        }
        .footer > div > p > a {
            font-size: 12px;
            color: black;
        }

        button {
            width: 438px;height: 40px;border-radius: 20px;
            border: none;opacity: 0.85;transition-duration: 300ms;
            color: white; letter-spacing: 1px;
            font-size: 18px;
            line-height: 21px;
        }
        button:hover{opacity: 1;letter-spacing: 2px}

        input::placeholder {
            font-size: 12px;
        }
    </style>
    {% endblock %}

    {% block content %}
<div style="width: 502px; margin: 50px auto 0 auto">

    <p style="font-size: 21px; font-weight: 600;text-align: center;color: #333333">비밀번호 찾기</p>
    <br><br>
    <p style="text-align: center">가입 시 등록한 정보를 입력해 주세요.<br>새로운 비밀번호를 설정할 수 있는 링크를 보내드릴게요.</p>
    <br><br>

    <div style="display: flex;height: 40px;line-height: 40px;justify-content: space-between">
        <p style="font-weight: 600;">이름(실명)</p>
        <input id="name" placeholder="본인의 실명을 띄어쓰기 없이 입력" style="width: 378px;background: #f1f1f1;border-radius: 5px;border: none;padding: 0 10px">
    </div>
    <br>

    <div style="display: flex;height: 40px;line-height: 40px;justify-content: space-between">
        <p style="font-weight: 600">이메일/전화번호</p>
        <input id="id" placeholder="이메일 또는 전화번호(example@gmail.com 또는 01012345678)" style="width: 378px;background: #f1f1f1;border-radius: 5px;border: none;padding: 0 10px">
    </div>
    <p style="font-size: 12px;color: #E94E58;text-align: center;margin-top: 12px">*비밀번호 인증은 1시간 이내에 완료해 주세요.</p>
    <br><br><br>

    <button onclick="send_link()"
            style="width: 300px;margin-left: 101px;background: linear-gradient(105deg, #577FF0 0%, #3F61CE 100%);">재설정 링크 보내기
    </button>

</div>
    {% endblock %}
