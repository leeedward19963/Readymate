<!doctype html>
<html lang="en" style="overflow-x: auto;background: #FAFAFA">
<head>

    <!-- Webpage Title -->
    <title>READYMATE  | 생기부입력</title>
    {% extends "layout_2.html" %}

    {% block head %}
    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <style>
        * {
            font-family: 'Noto Sans KR', sans-serif;
            font-size: 16px;
        }
        .navbar-item{font-weight: 600;font-size: 15px;transition-duration: 0.3s;}
        .navbar-item:hover {
            background-color: #FAFAFA;
            color: #577FF0;
        }
        .dropdown-item{transition-duration: 250ms}
        .dropdown-item:hover {
            letter-spacing: 2px;
        }
        #nav_drop_logout:hover{
            color: #F08080;
        }
        .div_up{
            width: 0px;
            height: 0px;
            border-left: 12px solid transparent;
            border-right: 12px solid transparent;
            border-bottom: 12px solid #dedede;
            margin-left: 158.5px;
        }
        .box{
            -ms-overflow-style: none; /* IE and Edge */
            scrollbar-width: none; /* Firefox */
        }
        .box::-webkit-scrollbar {
            display: none; /* Chrome, Safari, Opera*/
        }
        .modal-content{
            -ms-overflow-style: none; /* IE and Edge */
            scrollbar-width: none; /* Firefox */
        }
        .modal-content::-webkit-scrollbar {
            display: none; /* Chrome, Safari, Opera*/
        }
        button{
            opacity: 0.85;
            transition-duration: 300ms
        }
        button:hover{
            opacity: 1;
            letter-spacing: 2px
        }
        .alert_box{
            width: 341px;min-height: 75px;max-height: 340px;background: white;border: 1px #dedede solid;border-radius: 4px;
            box-shadow: 2px 6px 2px rgba(0, 0, 0, 0.25);padding: 20px 25px 6px 25px;
            overflow-y: scroll;
        }
        .alert_delete_btn{background: none;border: white 1px solid;cursor: pointer;height: 20px;border-radius: 10px;line-height: 18px;color: #E94E58;font-size: 12px;position: absolute;right: 134px;top: 9px;transition-duration: 300ms}
        .alert_delete_btn:hover{font-weight: 600;border: #F08080 1px solid;}
        .follow_box{
            width: 480px;height: 70px;padding: 15px;background: #FAFAFA;border-radius: 4px;display: flex;
            position: relative;margin-bottom: 14px;
            cursor: pointer;
        }
        .follow_box >p {
            margin-left: 17px;line-height: 40px;text-overflow:ellipsis; width: 370px; overflow:hidden; white-space:nowrap
        }
        .red_dot{
            width: 12px;height: 12px;border-radius: 6px;background: #E94E58;
            position: absolute; right: 15px;top: 29px;
        }

        /* Chrome, Safari, Edge, Opera */
        input::-webkit-outer-spin-button,
        input::-webkit-inner-spin-button {
            -webkit-appearance: none;
            margin: 0;
        }

        /* Firefox */
        input[type=number] {
            -moz-appearance: textfield;
        }

        .head {
            cursor:pointer; font-weight: 500;font-size: 21px; color: #595959;margin-bottom: 50px;
        }

        #sell {
            cursor:pointer; font-weight: 500;width: 174px;height: 40px;border-radius: 20px;color: white;border: none;background: #577FF0;
            transition-duration: 400ms; visibility: hidden;
        }
        #sell:hover {
            background:linear-gradient(90.64deg, #55DBC2 0%, #577FF0 100%);
            letter-spacing: 2px;
            color:white;
        }
        #hide{
            cursor:pointer; font-weight: 500;width: 174px;height: 40px;border-radius: 20px;color: white;border: none;background: #F08080;
        }

        .grey_box {
            width: 684px;
            background:linear-gradient(100.08deg, #EFEFEF 5.16%, #F5F5F5 91.74%);
            border-radius: 4px;
            padding: 10px 30px 15px 30px;
            line-height: 29px;
            color: #595959;
        }
        input{background: none}

        .tags > div {
            font-size: 14px;
            cursor: pointer; transition-duration: 250ms;
            font-weight: 500;
            color: #577FF0;
            background-color: white;
            border: #577FF0 1.5px solid;
            height: 27px;line-height: 18px;
            border-radius: 13.5px;
            margin: 4.75px 6px; padding: 3px 12px;
        }
        .tags >div:hover {
            background: #DDE9FE;
        }
        select{background: none}

        .selected_tag {
            color: white;
            background-color: #577FF0;
        }


        .tooltip {
            position: relative;
            display: inline-block;
        }
        .tooltip-content {
            background-color: black; color: white;
            visibility: hidden;
            opacity: 0.85;
            line-height: 28px;
            border-radius: 10px;
            padding: 14px 17px;
            position: absolute;
            z-index: 1;
            margin: 28px auto;
            left: 28%;
        }
        .tooltip:hover + .tooltip-content {
            visibility: visible;
        }


        .complete_btn {
            width: 39px;
            font-size: 21px;
            color: #577FF0;
            text-align: right;
            margin-top: 8px;
            margin-left: 529px;
            cursor: pointer;
            text-decoration: underline;
        }

        .footer > div > p > a {
            font-size: 12px;
            color: black;
        }
    </style>
    <script type="text/javascript">

        let sel_list = document.getElementsByClassName('selected_tag');
        $(document).ready(function () {
            $('#title_input').on('keyup', function () {
                if ($(this).val().length > 32) {
                    $(this).val($(this).val().substring(0, 32));
                    $('#title_cnt').html("(32 / 32)");
                }
                $('#title_cnt').html("(" + $(this).val().length + " / 32)");
                var text = $('#title_input').val()
            })
        })

        window.onbeforeunload = function () {
            return "정말로 페이지를 벗어나시겠습니까? 입력한 데이터는 저장되지 않습니다."
        }

        function totop() {
            $("html, body").animate({scrollTop: 0}, 240);
        }

        function tab_to(i) {
            $("html, body");
            $('#tab_list').animate({left: `-${(i - 1) * 684}`}, 300, 'swing');
            $('#tab_4_btn_sub').addClass('is-hidden');
            $('.head').css({'font-size': '21px', 'font-weight': '500'});
            $(`#head_${i}`).css({'font-size': '24px', 'font-weight': '700'});
            $('#recordpaper_view').addClass('is-hidden');
            $('#open_paper_btn').removeClass('open');
            $('#open_paper_btn').css({
                    'border-bottom' : '1px solid #F1F1F1',
                    'border-radius' : '10px'
                })
            $('#tab_4_btn_main').removeClass('is-hidden');
            $('#tab_4_btn_sub').addClass('is-hidden');
            if (i==4){
                $('#tab_slider').css({'height': '710'})
            }

        }

        function next_tab(i) {
            $("html, body").animate({scrollTop: 220}, 0);
            $('#tab_list').animate({left: "-=684"}, 300, "swing")
            if (i == 1) {
                $('#tab_slider').css({'height': '1090'})
                $('#tab_3_btn_sub').addClass('is-hidden')
            } else if (i == 2) {
                $('#tab_slider').css({'height': '780'})
                $('#tab_3_btn_sub').addClass('is-hidden')
            } else if (i == 3) {
                $('#tab_slider').css({'height': '710'})
                $('#tab_3_btn_sub').addClass('is-hidden')
            } else if (i === 4) {
                $('#tab_4_btn_sub').addClass('is-hidden')
                $('#open_paper_btn').css({
                    'border-bottom': '1px solid #F1F1F1',
                    'border-radius': '10px'
                })
                $('#tab_4_btn_main').removeClass('is-hidden')
                $('#tab_4_btn_sub').addClass('is-hidden')
                $('#tab_slider').css({'height': '1300'})
            } else {
                $('#tab_slider').css({'height': '950'})
                $('#recordpaper_view').addClass('is-hidden')
                $('#tab_3_btn_sub').addClass('is-hidden')
            }

            $(`#head_${i}`).css({'font-size': '21px', 'font-weight': '500'});
            $(`#head_${i + 1}`).css({'font-size': '24px', 'font-weight': '700'})
        }

        var year;
        var month;
        var date;
        var hour;
        var minute;
        var second;

        function getTime() {
            var nowDate = new Date().toLocaleDateString()
            var nowTime = new Date().toLocaleTimeString()

            year = nowDate.split('.')[0] + '년 '
            month = nowDate.split('.')[1] + '월 '
            if (nowDate.split('.')[1] < 10){
                month = month.slice(-1,0)+'0'+month.slice(1,2) + '월 '
            } else {
                month = nowDate.split('.')[1] + '월 '
            }
            date = nowDate.split('.')[2] + '일 '
            if (nowDate.split('.')[2] < 10){
                date = date.slice(-1,0)+'0'+date.slice(1,2) + '일 '
            } else {
                date = nowDate.split('.')[2] + '일 '
            }
            hour = nowTime.split(':')[0] + '시 '
            minute = nowTime.split(':')[1] + '분'
            second = nowTime.split(':')[2] + '초'

        }

        function fill_title() {
            var text = $('#title_input').val().toString()
            $('#title').text(text)
            if (text){
                $('#title_btn').css({ 'background': 'white','color':'#577FF0'})
                $('#title_btn').text('수정')
            } else {
                $('#title_btn').css({ 'background': '#577FF0','color':'white'})
                $('#title_btn').text('입력')
            }

        }

        function save_rec_post() {
            fill_title()
            getTime()
            var warningArray = [];
            var record_desc = quill.container.firstElementChild.textContent
            var check = $('input:checkbox[id="tab_1_checkbox"]:checked').val();
            if ($('#title_input').val() != '' && check == 'on'){
                $('#verify_tab_1').css({ 'visibility' : 'visible'})
            } else {
                $('#verify_tab_1').css({ 'visibility' : 'hidden'})
                warningArray.push("기본정보 탭이 다 입력되지 않았습니다")
            }
            ///1탭 브이체크표시 만드는 if

            if (record_desc != ''){
                $('#verify_tab_2').css({ 'visibility' : 'visible'})
            } else {
                $('#verify_tab_2').css({ 'visibility' : 'hidden'})
                warningArray.push("데이터 설명 탭이 다 입력되지 않았습니다")
            }
            ///2탭 브이체크표시 만드는 if

            if ($('#record-input').val() || $('.ok').length > 0){
                console.log($('#record-input').val())
                $('#verify_tab_3').css({ 'visibility' : 'visible'})
            } else {
                $('#verify_tab_3').css({ 'visibility' : 'hidden'})
                warningArray.push("데이터 업로드 탭이 다 입력되지 않았습니다")
            }
            ///3탭 브이체크표시 만드는 if

            if ($('#price_input').val()) {
                $('#verify_tab_4').css({'visibility': 'visible'})
            } else {
                $('#verify_tab_4').css({'visibility': 'hidden'})
                warningArray.push("가격설정 탭이 다 입력되지 않았습니다")
            }
            ///4탭 브이체크표시 만드는 if

            var check_1 = $('#verify_tab_1').css('visibility');
            var check_2 = $('#verify_tab_2').css('visibility');
            var check_3 = $('#verify_tab_3').css('visibility');
            var check_4 = $('#verify_tab_4').css('visibility');

            if (check_1 == 'visible' && check_2 == 'visible' && check_3 == 'visible' && check_4 == 'visible'){
                let quillHTML = quill.container.firstElementChild.innerHTML
                //위에는 퀼 안에 들어간 HTML코드이고, 아래는 실제 텍스트 내용. 아래 변수는 내용이 입력되었는지의 여부를 검토하기 위해.
                let record_title = $("#title_input").val()
                let record_price = $("#price_input").val()

                {% if record_info.time == "" %}
                let file = $('#record-input')[0].files[0]
                {% endif %}

                var time = year + month + date + ' ' + hour + minute + second
                let form_data = new FormData()
                form_data.append("record_title_give", record_title)
                form_data.append("record_desc_give", quillHTML)
                {% if record_info.time == "" %}
                    form_data.append("file_give", file)
                {% endif %}
                form_data.append("record_price_give", record_price)
                form_data.append("record_time_give", time)
                //console.log(record_title, quillHTML, file, record_price, time, form_data)

                $.ajax({
                    type: "POST",
                    url: "/save_rec_post",
                    data: form_data,
                    cache: false,
                    contentType: false, processData: false,
                    success: function (response) {
                        window.onbeforeunload = null
                        {% if recordpaper_info.record_info == "" %}
                            alert('24시간 내로 레디메이트에서 멘토님의 생활기록부를 확인해서 입력해드립니다\n완료되면 생기부페이지에 들어와 코멘트 추가와 공개설정 부탁드려요!')
                            window.location.href='/user_mentor/{{ mentor_info.nickname }}'
                        {% else %}
                        window.location.href='/recordpaper/{{ mentor_info.number }}'
                        {% endif %}
                    }
                });
            } else {
                alert(warningArray[0])
            }
        }

        function sellornot(v){
            var sell = v
            console.log(sell)
            $.ajax({
                type: "POST",
                url: "/recordpaper_sellyes",
                data: {'sell': sell},
                success: function (response) {
                    $("#activity_modal").removeClass("is-active")
                    window.alert('자료가 공개되어 멘티가 열람 가능합니다.')
                }
            });
        }

        function sign_out() {
            //로그아웃
            if (confirm('정말로 로그아웃 하시겠습니까?')){
                $.removeCookie('mytoken', {path: '/'});
                window.location.href="/login"
            }
        }

    </script>
    {% endblock %}

    {% block content %}
    <div style="width: 1194px; margin: 90px auto 40px auto">
    <div style="display: flex; margin-bottom: 80px">
        <div style="width: 72px; height: 72px; border: none; border-radius: 36px; background-image: url('../static/{{ mentor_info.profile_pic_real }}'); background-position: center; background-size: cover"></div>
        <div style="margin-left: 30px; height: 72px;">
            <div style="display: flex;line-height: 30px">
            <div style="color: #595959;margin-bottom: 19px">{{ mentor_info.nickname }}</div><div style="margin-left: 10px;line-height: 30px; width: 135px;text-align: center;font-weight: 500; height: 30px;border-radius: 15px;background: #577FF0;border: none;color: white">학교생활기록부</div>
            </div>
            <p id="title" style="border: none; color: black;width: 800px;font-size: 21px;margin-right: 16px">{{ record_info.record_title|safe }}</p>
        </div>
    </div>
    <div style="display: flex;position: relative">
        <div style="width: 174px; margin-right: 132px;bottom:100px;">
            <div onclick="tab_to(1);$('#tab_slider').css({'height': '950'});" id="head_1" class="head" style="font-weight: 700;font-size: 24px;">기본정보 <i id="verify_tab_1" class="fa fa-check-circle-o" style="color: #577FF0;visibility: hidden;" aria-hidden="true"></i></div>
            <div onclick="tab_to(2);$('#tab_slider').css({'height': '1090'});" id="head_2" class="head">데이터 설명 <i id="verify_tab_2" class="fa fa-check-circle-o" style="color: #577FF0;visibility: hidden" aria-hidden="true"></i></div>
            <div onclick="tab_to(3);$('#tab_slider').css({'height': '780'});" id="head_3" class="head">데이터 업로드 <i id="verify_tab_3" class="fa fa-check-circle-o" style="color: #577FF0;visibility: hidden" aria-hidden="true"></i></div>
            <div onclick="tab_to(4);$('#tab_slider').css({'height': '710'});" id="head_4" class="head">가격 설정 <i id="verify_tab_4" class="fa fa-check-circle-o" style="color: #577FF0;visibility: hidden" aria-hidden="true"></i></div>
            <div style="margin-bottom: 70px"><i id="verify_tab_5" class="fa fa-check-circle-o" style="color: #577FF0;visibility: hidden" aria-hidden="true"></i></div>
<!--            위에 일부러 onmouseenter로 그냥 css에니메이션 줘봤는데, 공개하기 버튼이 활성화 되면 저 css변화 에니메이션이 적용되도록 해줘-->
        </div>
        <div id="tab_slider" style="width: 684px; overflow: hidden; position: relative;height: 950px;">
            <div id="tab_list" style="position: absolute;display: flex;">
                <div id="tab_1" style="width: 684px">
                    <div class="grey_box" style="margin-bottom: 30px">
                        <p style="font-size: 14px;">❗타이핑할 내용이 너무 많다구요? 걱정하지 마세요. 저희 레디메이트가 입력해 드릴게요!<br>
                            레디메이트는 <strong style="font-size: 14px">나이스(NEIS)에서 발급받은 학교생활기록부 PDF파일</strong>을 받고 있습니다.</p>
                        <p style="font-size: 14px;margin-top: 7px">파일을 업로드 해 주시면 레디메이트 팀에서 개인정보는 지우고, 공개해도 괜찮은 정보만 추출해 드립니다.<br>
                            학교생활기록부 발급이 처음이시라면 아래 링크의 설명을 확인해 주세요. </p>
                        <a onclick="window.open('https://readymate.notion.site/f8d8566ef950442a870b3d4c4ef7b6c7')"><li style="font-size: 14px; text-decoration: underline">학교생활기록부 발급방법</li></a>
                    </div>
                    <p style="font-size: 21px; font-weight: 600">제목</p><br>
                    <div class="grey_box" style="margin-bottom: 24px">
                        <p style="font-weight: 600">TIP</p>
                        <p style="font-size: 14px;">잘 만든 제목은 조회수를 높이는 데 도움이 됩니다. 멘티들의 궁금증을 자극하는 제목을 작성해보세요!</p>
                        <li style="font-size: 14px">본인 데이터의 특징을 나타내는 키워드들을 사용해보세요.</li>
                        <li style="font-size: 14px">이 데이터를 통해 도움을 얻을 수 있을 타겟 멘티들을 드러내보세요.</li>
                        <li style="font-size: 14px">글자수는 32자로 제한됩니다.</li>
                    </div>
                    <input id="title_input"
                           style="border: none; border-bottom: #797979 1px solid;margin-right: 10px; width: 590px; height: 24px; padding: 4px 5px" type="text"
                           placeholder="데이터를 잘 표현하는 제목을 입력해주세요.">
                    <script>
                        $(document).ready(function (){
                            {% if record_info.record_title %}
                                $('#title_input').val("{{ record_info.record_title|safe }}")
                                //document.getElementById('title_input').value='{{ record_info.record_title|safe }}'
                            {% endif %}
                        })
                    </script>
                    <button id="title_btn" onclick="fill_title()" style="cursor: pointer; width: 73px; height: 28px;border-radius: 15px;font-weight: 500; color: white;background: #577FF0;border:#577FF0 1px solid;">입력</button>
                    <p id="title_cnt" style="float: right;margin-right: 93px">0/32</p>
                    <br><br><br><br><br>

                    <p style="font-size: 21px; font-weight: 600">판매동의</p><br>
                    <p style="line-height: 32px">레디메이트에 올라오는 모든 데이터들은 <b>개별판매/패스권 두 가지 방법으로 판매될 수 있습니다.</b><br>
                    판매자는 개별판매 또는 패스권 중 하나의 방식으로만 데이터를 판매할 수 없으며, 두 가지 판매방식 모두<br>
                    데이터에 자동 적용되어 정산됩니다.</p>
                    <br>
                    <label style="display: flex;line-height: 24px;float: right">
                        <input id="tab_1_checkbox" type="checkbox" style="zoom: 1.45">
                        <p style="line-height: 16px">&nbsp;&nbsp;&nbsp;동의합니다</p>
                    </label>

                    <br><br><br><br><br>
                    <div style="display: flex; float: right">
                        <button onclick="next_tab(1)"
                                style="cursor: pointer;font-weight: 500;width: 102px;height: 40px;border-radius: 20px;color: #577FF0;border: #577FF0 1px solid;background-color: white">
                            다음으로
                        </button>
                    </div>
                </div>
                <div id="tab_2" style="width: 684px">
                    <p style="font-size: 21px; font-weight: 600">상세 페이지</p><br>
                    <div class="grey_box" style="margin-bottom: 30px">
                        <p style="font-weight: 600">TIP</p>
                        <p style="font-size: 14px;">물건을 살 때 우리는 상세페이지를 꼼꼼히 살펴보고 구매합니다.<br>매력적인 상세페이지로 멘티들에게
                            어필하세요!</p>
                    </div>
                    <div class="grey_box" style="margin-bottom: 24px">
                        <p style="font-size: 14px;">❗상세페이지의 내용은 사실과 다르지 않아야 합니다. 판매하는 입시데이터의 내용과 사실관계가 다른 내용<br>
                            을 적거나, 과장, 허위 사실을 유도하는 암시 및 기타 ‘공문서의 부정행사(형법230조)’에 해당하는 내용을 적을<br>
                            경우 판매대금의 5배를 멘티에게 배상하여야 합니다.
                        </p>
                    </div>
                    <div id="editor-container" style="height: 550px">
                        <div id="editor">
                            {% if record_info.record_desc %}
                                {{ record_info.record_desc|safe }}
                            {% else %}
                                <span style="color:#3F61CE">*멘토님들이 쉽게 생활기록부 설명을 작성하실 수 있도록 간단한 템플릿을 준비해보았어요! 멘티들에게 이 생활기록부를 잘 알릴 수 있도록 템플릿에 맞춰서 차근차근 작성해보세요. 템플릿에 꼭 따르지 않고 멘토님만의 방법으로 생활기록부를 소개해주셔도 좋아요.</span>
                            <br><br><br>
                            <strong style="font-size:21px">이런 멘티가 보면 좋아요!</strong>
                            <br>
                            <span style="color:#3F61CE">*멘토님의 생활기록부가 크게 도움이 될 수 있는 멘티들의 특징을 나열해주세요. 멘토님의 고등학교 시절의 교과/비교과적 특징을 잘 나열해주시면 좋아요.</span>
                            <br>
                            <p style="color:#797979">
                            - ex) 뇌인지과학자가 되기 위해 어떤 스펙을 만들어야 할 지 감이 오지 않는 멘티<br>
                            - ex) 1학년 땐 지구과학, 2학년 땐 물리.. 중구난방 스펙, 어떻게 풀어가야 할 지 알고싶은 멘티<br>
                            - ex) 생물 동아리는 들어갔는데 어떤 실험을 하는 게 좋은지 모르겠는 멘티<br>
                            - ex) 과목별 세특으로 내 강점 어필하는 방법이 궁금한 멘티<br>
                            </p>
                            <br><br>
                            <strong style="font-size:21px">이 생활기록부를 보고 나면 이런 것들을 얻을 수 있어요.</strong>
                            <br>
                            <span style="color:#3F61CE">*위의 멘티들이 이 생활기록부를 보고 나서 얻을 수 있는 것들을 적어주세요. 내 생활기록부만이 담고 있는 특징, 그리고 나만의 스토리를 강조해주셔도 좋아요.</span>
                            <br>
                            <p style="color:#797979">
                            - ex) 일반 고등학교에서 한의학 관련 스펙 쌓는 법<br>
                            - ex) 학교 선생님에서 국제변호사로 자연스럽게 관심사 바꾸는 법<br>
                            - ex) 서울대에서도 다시 한 번 되물어보는 흔하지 않고 알찬 생물실험 3개<br>
                            </p>
                            <br><br>
                            <strong style="font-size:21px">이 생활기록부의 특징</strong>
                            <br>
                            <span style="color:#3F61CE">*생기부에 엮인 이야기를 멘티에게 소개해주세요. 나의 진로와 고등학교 생활이 어땠는지, 그리고 그것들이 어떻게 대입에 활용되었는지에 대한 이야기를 해주세요. 고등학교 시절을 떠올리면서 그때의 고민들이 뭐였고, 지금 이 생기부가 그런 고민들을 어떻게 해결해줄 수 있을지 소개해주세요.</span>
                            <p style="color:#797979">
                            ex) 저도 고등학교 때에는 이게 맞는지 몰랐어요. 그때는 최대한 선생님께 여쭤보고, 수만휘 찾아보고, 과외 선생님한테 물어보고 하면서 ‘뇌인지과학자’라는 꿈을 잘 설명할 스펙들을 찾아나갔습니다 그러고 대학에 와서 함께 수시로 온 친구들을 만나면서 제가 잘 준비한 것이었구나 알 수 있었습니다.<br>
                            사실 많은 친구들이 뇌인지과학에 대한 열정은 충분히 있을 거라고 생각합니다. 하지만 입학사정관과 교수님들은 그 열정을 알아주지 않아요. 적극적인 관련활동 기록으로 어필해야 합니다. 여러분의 열정을요! 저는 제 데이터가 바로 그 활동을 어떻게 채워나가야 하는 지 알려줄 수 있다고 생각합니다. 이 경시대회 참가할까? 이 동아리는 하는 게 좋을까? 이 동아리에서는 어떤 활동을 해야 하지?<br>
                            제가 3년간 준비한 과정들을 보고 하나씩 차근차근 본인만의 스토리를 완성해보세요!</p>
                            {% endif %}
                        </div>
                        <script>
                            var quill = new Quill('#editor', {
                                modules: {
                                    toolbar: [
                                              //[{ header: [1, 2, false] }],
                                              ['bold', 'italic', 'underline',{'color':['#444','#577FF0','#3EBCB0','#C657EF','#52C0E2','#E94E58']}],
                                            ]
                                },
                                theme: 'snow'
                            });
                        </script>
                    </div>
                        <br><br><br><br>
                    <div style="display: flex; float: right">
                        <button onclick="next_tab(2)"
                                style="cursor: pointer;font-weight: 500;width: 102px;height: 40px;border-radius: 20px;color: #577FF0;border: #577FF0 1px solid;background-color: white">
                            다음으로
                        </button>
                    </div>
                </div>
                <div id="tab_3" style="width: 684px">
                    <p style="font-size: 21px; font-weight: 600">학교생활기록부 업로드</p><br>
                    {% if record_info.record_info %}
                        <div class="grey_box ok">
                        학교생활기록부가 성공적으로 입력되었습니다.
                        <br>코멘트를 작성하고, 데이터를 공개하기 위해 아래 위치로 이동해 주세요.<br>
                        <br><b>우측 상단 내 피드 가기 > 내 학교생활기록부 데이터 클릭 > 코멘트입력 / 공개하기 버튼 클릭</b><br>
                        <br>적절한 코멘트를 입력하고 데이터 하단에서 공개하기 버튼을 눌러야지 본 데이터가 멘티들에게 공개됩니다.
                        </div>
                        <br><br>
                    {% elif mentor_info.record_file_real != '' %}
                        <div class="grey_box ok">
                        생활기록부 파일이 이미 업로드 되었습니다.
                        </div>
                        <br><br>
                    {% else %}
                    <div class="grey_box" style="margin-bottom: 30px">
                        <p style="font-weight: 600">TIP</p>
                        <p style="font-size: 14px;">타이핑할 내용이 너무 많다구요? 걱정하지 마세요. 저희 레디메이트가 입력해 드릴게요!<br>
                            레디메이트는 <strong style="font-size: 14px">나이스(NEIS)에서 발급받은 학교생활기록부 PDF파일</strong>을 받고 있습니다.</p>
                        <br>
                        <p style="font-size: 14px;margin-top: 7px">파일을 업로드 해 주시면 레디메이트 팀에서 개인정보는 지우고, 공개해도 괜찮은 정보만 추출해 드립니다.<br>
                            학교생활기록부 발급이 처음이시라면 아래 링크의 설명을 확인해 주세요. </p>
                        <a onclick="window.open('https://readymate.notion.site/f8d8566ef950442a870b3d4c4ef7b6c7')"><li style="font-size: 14px; text-decoration: underline">학교생활기록부 발급방법</li></a>
                    </div>
                    <div class="grey_box" style="margin-bottom: 24px;padding: 15px 17px">
                        <p style="font-weight: 600">파일 업로드</p>
                        <div style="display: flex;margin-top: 12px">

                            <div id="record_file_upload"
                                 style="width: 223px; height: 143px; color: #577FF0; font-size: 55px;line-height: 140px; text-align: center; background-color:#D4D4D4;border: none;border-radius: 4px">
                                +
                            </div>
                            <input type="file" oninput="uploadRecord()" id="record-input"
                                   class="image_inputType_file is-hidden">
                            <script>
                                    const RecordInput = document.querySelector('#record-input');
                                    const record_upload_btn = document.querySelector('#record_file_upload');
                                    record_upload_btn.addEventListener('click', () => {
                                        RecordInput.click();
                                    });

                                    function uploadRecord() {
                                        var file = $('#record-input')[0].files[0]
                                        var fileName = file['name']
                                        var obj = document.querySelector('#record_file_upload')
                                        obj.innerHTML = `<div id="record_file_upload" oninput="uploadRecord()" style="width: 223px;position: relative; height: 143px;color: #577FF0; text-align: center; background-color:#D4D4D4;border: none;border-radius: 15px; padding-top: 18px;line-height: 18px">
                                        <div style="width: 32px; height: 32px;margin: auto; background-image: url('../static/circle_check.png'); background-size: cover;background-position: center"></div>
                                        <p style="color: #577FF0;font-size: 13px;white-space: nowrap;text-overflow: ellipsis;overflow: hidden">${fileName}</p>
                                        <p style="font-size: 11px;color: #595959">레디메이트 팀에서 24시간 이내에 파일을<br>확인하고 인증을 해 드립니다.<br>가입을 이어서 마무리 해
                                            주세요.</p>
                                        <i onclick="$(this).parent().remove();document.querySelector('#idcard_img_upload').innerText='+'" style="color: #CE5D67;font-size: 24px; position: absolute;top: -8px;right: -12px;border-radius: 12px;cursor:pointer;width: 30px;height: 30px" class="fa fa-times-circle" aria-hidden="true"></i>
                                    </div>`
                                    }

                                </script>

                            <div style="width: 470px; margin-left: 30px;line-height: 21px">
                                <li style="font-size: 12px;">업로드 시 이름과 생년월일을 제외한 인적사항은 가리고 올려주셔도 됩니다.</li>
                                <li style="font-size: 12px;">단, 이름과 생년월일의 경우 반드시 공개해주세요. 데이터와 멘토님의 정보가 일치하는지 확인하기 위함입니다.</li>
                                <li style="font-size: 12px;">나이스에서 발급받은 학교생활기록부 PDF파일을 업로드하시는 경우 기본 비밀번호 그대로 업로드 해 주세요.</li>
                                <li style="font-size: 12px;">업로드 결과는 카카오톡 알림톡으로 전송됩니다.</li>
                            </div>
                        </div>
                    </div>
                    {% endif %}
                    <div style="display: flex; float: right">
                        <button onclick="next_tab(3)"
                                style="cursor: pointer;font-weight: 500;width: 102px;height: 40px;border-radius: 20px;color: #577FF0;border: #577FF0 1px solid;background-color: white">
                            다음으로
                        </button>
                    </div>
                </div>
                <div id="tab_4" style="width: 684px">
                    <p style="font-size: 21px; font-weight: 600">가격</p><br>
                    <div class="grey_box" style="margin-bottom: 24px">
                        <p style="font-weight: 600">TIP</p>
                        <p style="font-size: 14px;">데이터의 적절한 가격을 설정하세요! 다른 멘토들의 가격을 참고하는 것도 도움이 됩니다.</p>
                        <li style="font-size: 14px">가격은 30,000원 이상, 999,999원 이하로 설정할 수 있습니다.</li>
                    </div>
                    <input id="price_input" type="number" max="999999" min="30000"
                           oninput="this.value=this.value.replace(/[^0-9]/g,'');"
                           onblur="if (this.value <30000 || this.value >1000000){alert('30,000~999,999 사이의 금액을 입력해주세요');this.value=''}"
                           style="border: none;text-align: right;font-size: 18px; float: right; border-bottom: #797979 1px solid; width: 204px; height: 24px; padding: 2px 26px">
                    <script>
                        $(document).ready(function (){
                            document.getElementById('price_input').value = '{{ record_info.record_price }}'
                        })
                    </script>
                    <div style="position: absolute;margin-left: 664px">원</div>
                    <br><br><br><br>

                    <p style="margin-top: 80px;font-size: 21px; font-weight: 600">주의사항</p><br>
                    <div style="margin-bottom: 24px; line-height: 28px">
                        <li style="font-size: 14px">현 페이지에서 설정하는 가격은 개별 판매 시 적용되는 가격으로, 패스권을 이용한 열람 시 책정한 가격과 무관하게<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 조회수에 비례하여 수익이 지급됩니다.</li>
                        <li style="font-size: 14px">설정한 가격에서 플랫폼 수수료, 결제 수수료, 세금이 제외된 수익이 최종 지급되게 됩니다.</li>
                        <li style="font-size: 14px">제품의 가격은 한 번 결정하면 14일간 변경할 수 없습니다.</li>
                    </div>

                    <br><br>
                    <div style="display: flex; float: right">
                        <button id="save_rec_post" onclick="save_rec_post()" style="cursor: pointer;margin-right: 20px; font-weight: 500;width: 102px;height: 40px;border-radius: 20px;color: white;border: none;background-color: #577FF0">
                            저장하기
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div id="tab_4_btn_sub" class="is-hidden" style="width: 1044px; margin:30px 0 140px 0">
        <div style="display: flex; float: right">
            <button onclick="next_tab(4);$('#tab_4_btn_sub').addClass('is-hidden')"
                    style="cursor: pointer;font-weight: 500;width: 102px;height: 40px;border-radius: 20px;color: #577FF0;border: #577FF0 1px solid;background-color: white">
                다음으로
            </button>
        </div>
    </div>
</div>
    {% endblock %}